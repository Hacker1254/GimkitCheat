javascript: class multiple_choice{constructor(e=[],n=[],s=[]){this.correctAnswers=e,this.unknownAnswers=s,this.incorrectAnswers=n}static answer(e,n=[]){savedText.includes(e)||multiple_choice.addQuestion(e,[],[],n);var s=savedAnswers[savedText.indexOf(e)];0==n.length&&(n=n.concat(s.correctAnswers).concat(s.unknownAnswers).concat(s.incorrectAnswers));for(var t=[],r=[],a=[],c=0;c<n.length;c++)s.correctAnswers.includes(n[c])?t.push(n[c]):s.incorrectAnswers.includes(n[c])?r.push(n[c]):a.push(n[c]);return{correct:t,wrong:r,unknown:a}}static addQuestion(e,n=[],s=[],t=[]){savedText.push(e);var r=new multiple_choice(n,s,t);savedAnswers.push(r)}static modifyAnswers(e,n=[],s=[],t=[]){for(var r=0;r<t.length;r++)e.correctAnswers.includes(t[r])||e.incorrectAnswers.includes(t[r])||e.unknownAnswers.includes(t[r])||e.unknownAnswers.push(t[r]);for(r=0;r<n.length;r++)e.unknownAnswers.includes(n[r])&&e.unknownAnswers.splice(e.unknownAnswers.indexOf(n[r]),1),e.correctAnswers.includes(n[r])||e.correctAnswers.push(n[r]);for(r=0;r<s.length;r++)e.unknownAnswers.includes(s[r])&&e.unknownAnswers.splice(e.unknownAnswers.indexOf(s[r]),1),e.incorrectAnswers.includes(s[r])||e.incorrectAnswers.push(s[r])}static setUp(){for(var e=1;e<document.getElementsByClassName("notranslate lang-en").length;e++)document.getElementsByClassName("notranslate lang-en")[e].parentElement.parentElement.addEventListener("click",e=>{CURRENTANSWER=e.srcElement.textContent,questionObserver()})}static displayAnswers(e){for(var n=1;n<document.getElementsByClassName("notranslate lang-en").length;n++){var s=document.getElementsByClassName("notranslate lang-en")[n];e.correct.includes(s.textContent)?s.parentElement.parentElement.style.backgroundColor="#00FF00":e.wrong.includes(s.textContent)?s.parentElement.parentElement.style.backgroundColor="#FF0000":s.parentElement.parentElement.style.backgroundColor="#777777"}}}class text_responce{constructor(e=""){this.answer=e}static answer(e){return savedText.includes(e)||text_responce.addQuestion(e),savedAnswers[savedText.indexOf(e)].answer}static addQuestion(e,n=""){savedText.push(e);var s=new text_responce(n);savedAnswers.push(s)}static modifyAnswers(e,n){e.answer=n}static setUp(){document.getElementsByClassName("sc-gBGeja eYKMSX")[0].addEventListener("click",()=>{CURRENTQUESTION=document.getElementsByClassName("sc-bEGMXy lnqrzS")[0].value})}}function get_question(){var e=document.getElementsByClassName("sc-bKcCCv lfxIUK")[0].children[0].children[0].textContent,n="",s=[];if(document.getElementsByClassName("notranslate lang-en").length>1){n="multiple_choice";for(var t=1;t<document.getElementsByClassName("notranslate lang-en").length;t++)s.push(document.getElementsByClassName("notranslate lang-en")[t].textContent)}else n="text_responce";return{text:e,type:n,answer_options:s}}function update(){var e=CURRENTQUESTION,n=CURRENTANSWER,s=RESULT;"multiple_choice"==e.type?(s?multiple_choice.modifyAnswers(savedAnswers[savedText.indexOf(e.text)],[n],[],[]):multiple_choice.modifyAnswers(savedAnswers[savedText.indexOf(e.text)],[],[n],[]),multiple_choice.modifyAnswers(savedAnswers[savedText.indexOf(e.text)],[],[],e.answer_options.splice(e.answer_options.indexOf(n),1))):console.log("oops")}function questionObserver(){var e=new MutationObserver(()=>{e.disconnect(),(e=new MutationObserver(()=>{RESULT=wasAnswerRight(),update(),e.disconnect()})).observe(document.getElementsByClassName("sc-HWglP dnSgUS")[0].children[0],{attributes:!0,childList:!0})});e.observe(document.getElementsByClassName("sc-HWglP dnSgUS")[0].children[0],{attributes:!0,childList:!0,subtree:!0})}function wasAnswerRight(){var e=document.getElementsByClassName("sc-bKcCCv lfxIUK")[0].children[0].children[0].textContent;return(e=parseInt(e.replace("$","")))>0}var savedText=[],savedAnswers=[],CURRENTQUESTION=null,CURRENTANSWER=null,RESULT=null;function start(){document.addEventListener("keydown",e=>{if(9==e.keyCode){CURRENTQUESTION=get_question(),multiple_choice.setUp();var eval=multiple_choice.answer(CURRENTQUESTION.text,CURRENTQUESTION.answer_options);multiple_choice.displayAnswers(eval)}})}start();
